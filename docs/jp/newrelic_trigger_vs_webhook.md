# New Relic Trigger Node vs 標準 Webhook Node

New Relicからのアラート通知を受け取る際、「専用のカスタムTriggerノードを作る」場合と「n8n標準のWebhookノードを使う」場合の比較です。

## 結論
**「標準 Webhook Node」で十分** ですが、**「使いやすさ・安全性」を求めるなら Trigger Node** に価値があります。

---

## 比較表

| 項目 | 標準 Webhook Node | New Relic Trigger Node (Custom) |
| :--- | :--- | :--- |
| **セットアップ** | 汎用的。「メソッド」や「認証」を自分で設定する必要がある。 | **専用設計**。New Relic用に最適化されており、迷う要素が少ない。 |
| **データ受信** | 生のJSONデータ (`body`) として受け取る。 | 自動的に **New Relicのアラート形式に合わせてパース** された状態で受け取れる可能性がある。 |
| **検証 (Security)** | 送信元の署名検証などを自分で実装する必要がある（Functionノードなどで）。 | **署名検証ロジックを内蔵** できるため、セキュアな受信が簡単に実現できる。 |
| **UX (体験)** | 「WebhookURLをコピーして」という一般的な手順。 | ロゴが表示され、「New Relicからの通知だ」と一目でわかる。 |

## 詳細分析

### 1. 標準 Webhook Node の場合
*   **メリット**: 何もしなくても今すぐ使える。開発不要。
*   **デメリット**:
    *   New Relicから送られてくるJSONのどのフィールドが重要か（`incident_id`, `policy_name` など）を自分で把握し、後続のノードでマッピングする必要がある。
    *   誰でもそのURLにPOSTできてしまうため、認証（Headerチェックなど）を自前で組む必要がある。

### 2. New Relic Trigger Node (Custom) の場合
*   **メリット**:
    *   **データの正規化**: New RelicのアラートJSONは複雑な場合がありますが、Triggerノード内で整理して、使いやすい形（例: `Alert ID`, `Severity`, `Description`）に出力できます。
    *   **フィルタリング**: 「Criticalアラートだけ反応する」といった設定をGUIで持たせることができます。
*   **デメリット**: 開発コストがかかる。

## 推奨
まずは **標準Webhookノード** で運用を開始し、「生データの処理が面倒」や「セキュリティを強化したい」と感じた段階で **Triggerノード** の開発を検討するのが良いでしょう。
